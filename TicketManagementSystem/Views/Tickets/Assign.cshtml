@model TicketManagementSystem.Data.Ticket

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    int count = 0; // for iteration over employees
}




<div class="row">
    <div class="col-md-4">
        <form asp-action="Assign">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Id" />

            <div class="form-group">
                <input type="hidden" asp-for="Title" /> <!-- If we do not include this line,after we edit our ticket information,dateCreated value will be lost. -->
            </div>

            <div class="form-group">
                <input type="hidden" asp-for="Statement" /> <!-- If we do not include this line,after we edit our ticket information,dateCreated value will be lost. -->
            </div>


            <div class="form-group">
                <input type="hidden" asp-for="DateCreated" /> <!-- If we do not include this line,after we edit our ticket information,dateCreated value will be lost. -->
            </div>

            <div class="form-group">
                <input type="hidden" asp-for="TicketStatus" value="In_Progress" /> <!-- ""TicketStatus==In_Progress" since the ticket is assigned to an employee. -->
            </div>


            <div class="form-group">
                <label asp-for="Priority" class="control-label">Önem derecesi</label>
                <select asp-for="Priority" class="form-control">

                    <option value="Severity_A">Severity A</option>
                    <option value="Severity_B">Severity B</option>
                    <option value="Severity_C">Severity C</option>


                </select>
                <span asp-validation-for="Priority" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="AssignedToId" class="control-label">Atanacak kişi</label>
                <select asp-for="AssignedToId" class="form-control">



                    @{ foreach (var employee in ViewBag.Employees)
                        {

                            <option value="@ViewBag.Employees[count].Id">@ViewBag.Employees[count].Name @ViewBag.Employees[count].Surname</option>
                            count++;

                        }

                    }


                </select>
                <span asp-validation-for="AssignedToId" class="text-danger"></span>
            </div>



            <div class="form-group">
                <input type="submit" value="Ata" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>


@section scripts {

    <!-- BEGIN VENDOR JS -->
    <script src="~/plugins/jquery/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="~/plugins/modernizr.custom.js" type="text/javascript"></script>
    <script src="~/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
    <script src="~/plugins/popper/umd/popper.min.js" type="text/javascript"></script>
    <script src="~/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/plugins/jquery-scrollbar/jquery.scrollbar.min.js"></script>

    <!-- BEGIN CORE TEMPLATE JS -->
    <!-- BEGIN CORE TEMPLATE JS -->
    <script src="~/pages/js/pages.js"></script>
    <!-- END CORE TEMPLATE JS -->
    <!-- BEGIN PAGE LEVEL JS -->
    <script src="~/js/scripts.js" type="text/javascript"></script>
    <!-- END PAGE LEVEL JS -->
    <!-- END CORE TEMPLATE JS -->
    <!-- BEGIN PAGE LEVEL JS -->
    <script src="~/js/timeline.js" type="text/javascript"></script>
    <!-- END PAGE LEVEL JS -->
}